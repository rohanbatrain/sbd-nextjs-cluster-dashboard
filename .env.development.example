# ============================================================================
# SECOND BRAIN DATABASE - DEVELOPMENT ENVIRONMENT
# ============================================================================
# Copy this file to .env for local development
# This configuration is optimized for Docker Compose development

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
APP_NAME=Second Brain Database
ENVIRONMENT=development
DEBUG=True
LOG_LEVEL=DEBUG
HOST=0.0.0.0
PORT=8000
BASE_URL=http://localhost:8000

# ============================================================================
# DOCKER COMPOSE SETTINGS
# ============================================================================
IMAGE_TAG=dev
API_PORT=8000
DOCS_PORT=8080
OLLAMA_PORT=11434
QDRANT_PORT=6333

# MongoDB Configuration (Docker)
MONGODB_USERNAME=admin
MONGODB_PASSWORD=devpassword
MONGODB_DATABASE=second_brain_database
MONGODB_URL=mongodb://admin:devpassword@mongo:27017/second_brain_database?authSource=admin

# Redis Configuration (Docker)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://redis:6379/0

# Qdrant Configuration (Docker)
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_HTTPS=False

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================
JWT_SECRET_KEY=dev-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

ENCRYPTION_KEY=dev-fernet-key-change-in-production
FERNET_KEY=dev-fernet-key-change-in-production

# ============================================================================
# CELERY CONFIGURATION
# ============================================================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_LOG_LEVEL=debug
CELERY_WORKER_CONCURRENCY=2
CELERY_MAX_TASKS_PER_CHILD=1000

# ============================================================================
# AI & LLM CONFIGURATION
# ============================================================================
# Ollama Configuration (Docker)
OLLAMA_HOST=http://ollama:11434
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=llama3.2:latest
OLLAMA_CHAT_MODEL=llama3.2:latest
OLLAMA_EMBEDDING_MODEL=nomic-embed-text:latest

# LangChain
LANGCHAIN_ENABLED=True
LANGCHAIN_MODEL_PROVIDER=ollama
LANGCHAIN_DEFAULT_MODEL=gemma3:1b
LANGCHAIN_TEMPERATURE=0.7

# ============================================================================
# VECTOR SEARCH & RAG CONFIGURATION
# ============================================================================
QDRANT_COLLECTION_NAME=document_embeddings
QDRANT_VECTOR_SIZE=768
QDRANT_DISTANCE_METRIC=Cosine

LLAMAINDEX_ENABLED=True
LLAMAINDEX_EMBED_MODEL=local:BAAI/bge-small-en-v1.5
LLAMAINDEX_CHUNK_SIZE=1024
LLAMAINDEX_CHUNK_OVERLAP=200

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
CORS_ENABLED=True
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH
CORS_ALLOW_HEADERS=*

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_AI_AGENTS=True
FEATURE_VOICE_PROCESSING=True
FEATURE_DOCUMENT_PROCESSING=True
FEATURE_MCP_SERVER=True
FEATURE_FAMILY_MANAGEMENT=True
FEATURE_WORKSPACE_MANAGEMENT=True
FEATURE_SHOP=True

# ============================================================================
# MCP SERVER CONFIGURATION
# ============================================================================
MCP_ENABLED=True
MCP_SERVER_NAME=SecondBrainMCP
MCP_TRANSPORT=http
MCP_HTTP_HOST=0.0.0.0
MCP_HTTP_PORT=8001
MCP_DEBUG_MODE=True

# ============================================================================
# UVICORN CONFIGURATION
# ============================================================================
UVICORN_WORKERS=1
